!function(e,n){"function"==typeof define&&define.amd?define([],n):"object"==typeof module&&module.exports?module.exports=n():e.CRSA=n()}(this,function(){"use strict";return function(a){function c(e,n,t){return Math.floor(.01*+n*o[t])+"px"}var r=this,f={},s={},i=!1,l=!1,v=!1,o={cmin:0,cmax:0,cavg:0,cw:0,ch:0},m=/(\d+)(cmin|cmax|cavg|cw|ch)/g,t=250,n=-1,u=-t,d=null,h=null,g=window.requestAnimationFrame,e=window.cancelAnimationFrame;g&&e||(g=function(e){return setTimeout(e,16)},e=function(e){clearTimeout(e)});function w(){if(n<0)return null!==h?void 0:(null!==d&&clearInterval(d),h=g(x),void(d=null));var e=performance.now();n<=e-u&&x(),u=e}function p(){for(var e in s)for(var n in s[e])for(var t=0;t<s[e][n].elements.length;t++){var r=s[e][n].elements[t],i=s[e][n].values[t];r&&(r.style[n]=i)}}function y(){if(a){for(var e in p(),f){var n,t=a.querySelectorAll(e);for(n in t.length||(t=document.querySelectorAll(e)),f[e]){if(t.length)for(var r=f[e][n].replace(m,c),i=0;i<t.length;i++){var l=t[i].style;s[e][n].elements[i]=t[i],s[e][n].values[i]=l[n],l[n]=r}var o=t.length,u=s[e][n].elements.length-o;0<u&&(s[e][n].elements.splice(o,u),s[e][n].values.splice(o,u))}}v=!0}}var x=function(){var e,n;h=0<t?null:g(x),0<t&&null===d&&(d=setInterval(x,t)),a&&a.getBoundingClientRect&&((n=a.getBoundingClientRect())&&(e=n.right-n.left,n=n.bottom-n.top,e&&n&&(e===o.cw&&n===o.ch&&v||r.defineDimensions(e,n))))};this.defineStyles=function(e){if(e&&"object"==typeof e){for(var n in l&&p(),f={},s={},e)for(var t in f[n]={},s[n]={},e[n])s[n][t]={elements:[],values:[]},f[n][t]=e[n][t];return l=!0,i&&y(),r}},this.defineContainer=function(e){return"string"==typeof e&&(e=document.querySelector(e)),a=e instanceof HTMLElement?e:null,i=v=!1,l&&a&&y(),l&&!a&&p(),r},this.defineDimensions=function(e,n){return i=!0,o.cw=e,o.ch=n,o.cmin=Math.min(e,n),o.cmax=Math.max(e,n),o.cavg=Math.floor(Math.sqrt(e*n)),y(),r},this.enableAutoRefresh=function(){return 0<arguments.length&&(n=arguments[0]),1<arguments.length&&(t=arguments[1]),null!==d&&clearInterval(d),null!==h&&e(h),h=d=null,t<=0?(h=g(x),window.removeEventListener("resize",w)):(d=setInterval(x,t),window.addEventListener("resize",w),x()),r},this.disableAutoRefresh=function(){return null!==d&&clearInterval(d),null!==h&&e(h),h=d=null,window.removeEventListener("resize",w),r},r.defineContainer(a)}});