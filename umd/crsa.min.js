!function(e,n){"function"==typeof define&&define.amd?define([],n):"object"==typeof module&&module.exports?module.exports=n():e.CRSA=n()}(this,function(){"use strict";return function(i){function o(e,n,t){return Math.floor(.01*+n*f[t])+"px"}var r=this,l={},u=!1,c=!1,a=!1,f={cmin:0,cmax:0,cavg:0,cw:0,ch:0},v=/(\d+)(cmin|cmax|cavg|cw|ch)/g,t=250,n=-1,s=-t,d=null,m=null,h=window.requestAnimationFrame,e=window.cancelAnimationFrame;h&&e||(h=function(e){return setTimeout(e,16)},e=function(e){clearTimeout(e)});function w(){if(n<0)return null!==m?void 0:(null!==d&&clearInterval(d),m=h(q),void(d=null));var e=performance.now();n<=e-s&&q(),s=e}function y(e){if(e)for(var n in l){var t=e.querySelector(n);if(t=t||document.querySelector(n))for(var r in t=t.style,l[n]){var i=l[n][r].defval;t[r]=i}}}function g(e){if(e)for(var n in l){var t=e.querySelector(n);if(t=t||document.querySelector(n))for(var r in t=t.style,l[n]){var i=t[r];l[n][r].defval=i}}}function p(){if(i){for(var e in l){var n=i.querySelector(e);if(n=n||document.querySelector(e))for(var t in n=n.style,l[e]){var r=l[e][t].value.replace(v,o);n[t]=r}}a=!0}}var q=function(){var e,n;m=0<t?null:h(q),0<t&&null===d&&(d=setInterval(q,t)),i&&i.getBoundingClientRect&&((n=i.getBoundingClientRect())&&(e=n.right-n.left,n=n.bottom-n.top,e&&n&&(e===f.cw&&n===f.ch&&a||r.defineDimensions(e,n))))};this.defineStyles=function(e){if(e&&"object"==typeof e){for(var n in i&&y(i),l={},e)for(var t in l[n]={},e[n])l[n][t]={value:e[n][t],defval:void 0};return c=!0,i&&g(i),u&&p(),r}},this.defineContainer=function(e){return i&&y(i),"string"==typeof e&&(e=document.querySelector(e)),i=e instanceof HTMLElement?e:null,u=a=!1,i&&g(i),c&&p(),r},this.defineDimensions=function(e,n){return u=!0,f.cw=e,f.ch=n,f.cmin=Math.min(e,n),f.cmax=Math.max(e,n),f.cavg=Math.floor(Math.sqrt(e*n)),p(),r},this.enableAutoRefresh=function(){return 0<arguments.length&&(n=arguments[0]),1<arguments.length&&(t=arguments[1]),null!==d&&clearInterval(d),null!==m&&e(m),m=d=null,t<=0?(m=h(q),window.removeEventListener("resize",w)):(d=setInterval(q,t),window.addEventListener("resize",w),q()),r},this.disableAutoRefresh=function(){return null!==d&&clearInterval(d),null!==m&&e(m),m=d=null,window.removeEventListener("resize",w),r},r.defineContainer(i)}});